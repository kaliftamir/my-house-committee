(this["webpackJsonpcar-app"]=this["webpackJsonpcar-app"]||[]).push([[0],{388:function(e,a,t){},412:function(e){e.exports=JSON.parse('[{"id":1,"building":"44","address":"Rashi","city":"Tel-Aviv"},{"id":2,"building":"50","address":"Rashi","city":"Tel-Aviv"},{"id":3,"building":"60","address":"Niron","city":"Ramat-Gan"}]')},419:function(e,a,t){e.exports=t(896)},424:function(e,a,t){},426:function(e,a,t){},430:function(e,a,t){},655:function(e,a){},657:function(e,a){},668:function(e,a){},670:function(e,a){},696:function(e,a){},698:function(e,a){},699:function(e,a){},705:function(e,a){},707:function(e,a){},725:function(e,a){},728:function(e,a){},744:function(e,a){},747:function(e,a){},795:function(e,a,t){},796:function(e,a,t){},797:function(e,a,t){},799:function(e,a,t){},800:function(e,a,t){},895:function(e,a,t){},896:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(69),c=t.n(r),o=(t(424),t(90)),i=t(404),s=t(190),m=t(417),u=t(414),d=(t(425),t(426),t(79)),E=t(23),p=t(901),g=t(909),f=t(910);var v=function(e){var a=e.activeUser,t=a?null:l.a.createElement(g.a.Link,{href:"#/login"},"Login"),n=a?null:l.a.createElement(g.a.Link,{href:"#/signup"},"Sign up"),r=a?l.a.createElement(g.a.Link,{href:"/"},"Logout"):null,c=a?l.a.createElement(g.a.Link,{href:"#/dashboard"},"Dashboard"):null,o=a?l.a.createElement(g.a.Link,{href:"#/tenants"},"Tenants"):null,i=a?l.a.createElement(g.a.Link,{href:"#/messages"},"Messages"):null,s=a?l.a.createElement(g.a.Link,{href:"#/issues"},"Issues"):null,m=a?l.a.createElement(g.a.Link,{href:"#/votings"},"Voting"):null;return l.a.createElement(f.a,{bg:"light",expand:"lg"},l.a.createElement(f.a.Brand,{href:"#/"},"HCA Systems"),l.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(g.a,{className:"mr-auto"},c,o,i,s,m),l.a.createElement(g.a,{className:"ml-auto"},t,n,r)))};var b=function(e){var a=e.activeUser;return l.a.createElement("div",null,l.a.createElement(v,{activeUser:a}),l.a.createElement(p.a,null,l.a.createElement("h1",null,"Home Page"),l.a.createElement("h4",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")))},h=t(7),y=t(908),C=t(902),O=t(903),w=t(407),j=t(408),x=(t(430),function e(a){Object(o.a)(this,e),this.id=a.id,this.email=a.get("email"),this.username=a.get("username"),this.password=a.get("password"),this.apartment=a.get("apartment"),this.isTenant=a.get("isTenant"),this.isCommitteeMember=a.get("isCommitteeMember")}),N=t(12),I=t.n(N);var S=function(e){var a=e.handleLogin,t=l.a.useState("jerry@jerry.com"),n=Object(h.a)(t,2),r=n[0],c=n[1],o=l.a.useState("123"),i=Object(h.a)(o,2),s=i[0],m=i[1],u=l.a.useState(!1),d=Object(h.a)(u,2),p=d[0],g=d[1],f=l.a.useState(!1),v=Object(h.a)(f,2),b=v[0],N=v[1];return console.log(p),p?l.a.createElement(E.a,{to:"/dashboard"}):l.a.createElement("div",{className:"p-login"},l.a.createElement("h1",null,"Login to Committee App"),"or ",l.a.createElement("a",{href:"#/signup"},"create a new account"),l.a.createElement(y.a,null,b?l.a.createElement(C.a,{variant:"danger"},"Invalid Credientails! Incorrect email or password"):l.a.createElement(C.a,null),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Email"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{type:"email",placeholder:"Email",value:r,onChange:function(e){return c(e.target.value),N(!1)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalPassword"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Password"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{type:"password",placeholder:"Password",value:s,onChange:function(e){return m(e.target.value),N(!1)}}))),l.a.createElement(y.a.Group,null,l.a.createElement(j.a,{type:"button",onClick:function(){I.a.User.logIn(r,s).then((function(e){a(new x(e)),g(!0)})).catch((function(e){N(!0)}))},block:!0,variant:"primary"},"Login"))))};t(795);var k=function(e){e.users,e.accounts,e.handleSignup,e.handleNewAccount;var a=l.a.useState(!1),t=Object(h.a)(a,2),r=t[0],c=t[1],o=l.a.useState("tamir"),i=Object(h.a)(o,2),s=i[0],m=i[1],u=l.a.useState("tamir@kalif.com"),d=Object(h.a)(u,2),p=d[0],g=d[1],f=l.a.useState("TamirKalif1"),v=Object(h.a)(f,2),b=v[0],x=v[1],N=l.a.useState(!0),S=Object(h.a)(N,2),k=S[0],M=S[1],L=l.a.useState(!1),U=Object(h.a)(L,2),G=U[0],T=U[1],D=l.a.useState("4"),A=Object(h.a)(D,2),B=A[0],H=A[1],z=l.a.useState("44"),F=Object(h.a)(z,2),R=F[0],P=F[1],V=l.a.useState("rashi"),K=Object(h.a)(V,2),J=K[0],q=K[1],Q=l.a.useState("tel-aviv"),W=Object(h.a)(Q,2),Y=W[0],Z=W[1],$=l.a.useState(!1),_=Object(h.a)($,2),X=_[0],ee=_[1],ae=l.a.useState(!1),te=Object(h.a)(ae,2),ne=te[0],le=te[1],re=l.a.useState(!1),ce=Object(h.a)(re,2),oe=ce[0],ie=ce[1],se=l.a.useState(!1),me=Object(h.a)(se,2),ue=me[0],de=me[1];return Object(n.useEffect)((function(){if(r){var e=new I.a.User;e.set("username",s),e.set("email",p),e.set("apartment",B),e.set("isTenant",!0),e.set("isCommitteeMember",!0),e.set("password",b),e.signUp().then((function(e){var a=new(I.a.Object.extend("account"));a.set("building",R),a.set("address",J),a.set("city",Y),a.save().then((function(e){de(!0),setTimeout((function(){ee(!0)}),2e3)}),(function(e){ie(!0)}))})).catch((function(e){le(!0)}))}}),[r]),X?l.a.createElement(E.a,{to:"/"}):l.a.createElement("div",{className:"p-signup"},l.a.createElement("h1",null,"Create a Committe Member Account"),l.a.createElement(y.a,null,l.a.createElement(O.a,null,l.a.createElement(w.a,{lg:12},ue?l.a.createElement(C.a,{className:"signup-alert",variant:"success"},"New user was signed up"):l.a.createElement(C.a,null))),l.a.createElement(O.a,null,l.a.createElement(w.a,{lg:6,sm:12},ne?l.a.createElement(C.a,{className:"signup-alert",variant:"danger"},"The user already exists!"):l.a.createElement(C.a,null),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Label,{id:"name"},"User Name:"),l.a.createElement(y.a.Control,{type:"text",value:s,onChange:function(e){return m(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Label,{id:"email"},"Email:"),l.a.createElement(y.a.Control,{type:"email",value:p,onChange:function(e){return g(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formBasicPassword"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Label,{id:"passward"},"Password:"),l.a.createElement(y.a.Control,{type:"passward",value:b,onChange:function(e){return x(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Label,{id:"apartment"},"Apartment:"),l.a.createElement(y.a.Control,{type:"text",value:B,onChange:function(e){return H(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formBasicCheckbox"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Check,{type:"checkbox",label:"Tenant?",checked:k,onChange:function(e){return M(e.target.checked)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formBasicCheckbox"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Check,{type:"checkbox",label:"Committee Member?",checked:G,onChange:function(e){return T(e.target.checked)}})))),l.a.createElement(w.a,{lg:6,sm:12},oe?l.a.createElement(C.a,{className:"signup-alert",variant:"danger"},"The account already exists!"):l.a.createElement(C.a,null),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Label,{id:"building"},"Building:"),l.a.createElement(y.a.Control,{type:"text",value:R,onChange:function(e){return P(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Label,{id:"address"},"Address:"),l.a.createElement(y.a.Control,{type:"text",value:J,onChange:function(e){return q(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(w.a,{sm:12},l.a.createElement(y.a.Label,{id:"city"},"City:"),l.a.createElement(y.a.Control,{type:"text",value:Y,onChange:function(e){return Z(e.target.value)}}))))),l.a.createElement(j.a,{variant:"primary",onClick:function(){c(!0)},block:!0,type:"button"},"Submit")))};var M=function(e){var a=e.activeUser,t=l.a.useState([]),n=Object(h.a)(t,2),r=(n[0],n[1],l.a.useState([])),c=Object(h.a)(r,2),o=(c[0],c[1],l.a.useState([])),i=Object(h.a)(o,2);return i[0],i[1],a?l.a.createElement("div",null,l.a.createElement(v,{activeUser:a}),l.a.createElement(p.a,null,l.a.createElement(O.a,null,l.a.createElement(w.a,{md:6},l.a.createElement("h2",null,"New Report Issues")),l.a.createElement(w.a,{md:6},l.a.createElement("h2",null,"Overdue Issues"))),"DashboardPages under construction")):l.a.createElement(E.a,{to:"/"})};var L=function(e){var a=e.activeUser;return a?l.a.createElement("div",null,l.a.createElement(v,{activeUser:a}),"TenantsPage"):l.a.createElement(E.a,{to:"/"})},U=(t(796),t(911)),G=t(912),T=(t(797),t(158));var D=function(e){var a=e.id,t=e.img,n=e.title,r=e.details,c=e.priority,o=e.icon,i=e.className,s=e.deleteMessage,m=e.updateMessage;return l.a.createElement("div",{className:"c-message"},l.a.createElement(U.a,null,l.a.createElement(G.a,null,l.a.createElement(G.a.Header,{className:"title"},l.a.createElement(U.a.Toggle,{as:j.a,variant:"link",eventKey:"0"},l.a.createElement("span",{className:"title-text"},n),l.a.createElement(T.a,{className:"icon",icon:o}))),l.a.createElement(U.a.Collapse,{eventKey:"0"},l.a.createElement(G.a.Body,null,l.a.createElement(O.a,null,l.a.createElement(w.a,{xs:3},l.a.createElement(G.a.Img,{variant:"top",src:t})),l.a.createElement(w.a,{xs:9},l.a.createElement(G.a.Body,{className:"card-body"},l.a.createElement(G.a.Title,null),l.a.createElement("div",{className:"details"},l.a.createElement(O.a,null,l.a.createElement(w.a,{xs:2},"Details:"),l.a.createElement(w.a,{xs:7},r))),l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(w.a,{xs:2},"Priority:"),l.a.createElement(w.a,{xs:7},c),l.a.createElement(w.a,{xs:3},l.a.createElement(j.a,{value:a,className:i,variant:"primary",size:"sm",onClick:m},"Update"),l.a.createElement(j.a,{value:a,className:i,variant:"danger",size:"sm",onClick:s},"Delete"))))))))))))},A=t(907),B=t(904),H=t(62);t(388);var z=function(e){var a=e.handleModalOpen,t=e.handleModalClose,n=e.handleNewMessage,r=l.a.useState(""),c=Object(h.a)(r,2),o=c[0],i=c[1],s=l.a.useState(""),m=Object(h.a)(s,2),u=m[0],d=m[1],E=l.a.useState("info"),p=Object(h.a)(E,2),g=p[0],f=p[1],v=l.a.useState(null),b=Object(h.a)(v,2),C=b[0],x=b[1],N=l.a.useState(H.b),S=Object(h.a)(N,2),k=S[0],M=S[1],L=C?URL.createObjectURL(C):"";return l.a.createElement("div",{className:"c-my-message-modal"},l.a.createElement(A.a,{show:a,onHide:t,size:"lg"},l.a.createElement(A.a.Header,{closeButton:!0},l.a.createElement(A.a.Title,null,"New Message")),l.a.createElement(A.a.Body,null,l.a.createElement(y.a,null,l.a.createElement(y.a.Group,{as:O.a,controlId:"title"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Title:"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{type:"text",value:o,name:"titleInput",onChange:function(e){i(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"details"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Details:"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{as:"textarea",rows:"5",value:u,name:"detailsInput",onChange:function(e){d(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"priority"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Priority:"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{as:"select",value:g,name:"priortyInput",onChange:function(e){f(e.target.value),"Important"===e.target.value?M(H.a):M(H.b)}},l.a.createElement("option",null,"Info"),l.a.createElement("option",null,"Important")))),l.a.createElement(y.a.Group,{as:O.a,controlId:"img"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Image URL"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{type:"file",accept:"image/*",name:"imgInput",onChange:function(e){e.target.files[0]?x(e.target.files[0]):x(null)}}))),l.a.createElement(B.a,{src:L,className:"preview"}))),l.a.createElement(A.a.Footer,null,l.a.createElement(j.a,{variant:"secondary",onClick:t},"Cancel"),l.a.createElement(j.a,{variant:"primary",onClick:function(){var e=new(I.a.Object.extend("Message"));e.get("updatedAt",I.a.User.current()),e.set("title",o),e.set("details",u),e.set("priority",g),e.set("icon",k),e.set("img",new I.a.File(C.name,C)),e.set("userId",I.a.User.current()),console.log(e),n(e),t(),i(""),d(""),f("info"),x(null),M(H.b)}},"Create Message"))))};var F=function(e){var a=e.title,t=e.details,n=e.priority,r=e.img,c=e.handleOldModalOpen,o=e.handleModalClose,i=e.handleUpdateMessage,s=l.a.useState(!1),m=Object(h.a)(s,2),u=m[0],d=m[1],E=l.a.useState(""),p=Object(h.a)(E,2),g=p[0],f=p[1],v=l.a.useState(""),b=Object(h.a)(v,2),x=b[0],N=b[1],I=l.a.useState(""),S=Object(h.a)(I,2),k=S[0],M=S[1],L=l.a.useState(null),U=Object(h.a)(L,2),G=U[0],T=U[1],D=l.a.useState(H.b),z=Object(h.a)(D,2),F=z[0],R=z[1];return G&&URL.createObjectURL(G),l.a.createElement("div",{className:"c-my-message-modal"},l.a.createElement(A.a,{show:c,onHide:o,size:"lg"},l.a.createElement(A.a.Header,{closeButton:!0},l.a.createElement(A.a.Title,null,"Updated Message")),l.a.createElement(A.a.Body,null,l.a.createElement(y.a,null,u?l.a.createElement(C.a,{variant:"success"},"Message was updated!"):l.a.createElement(C.a,null),l.a.createElement(y.a.Group,{as:O.a,controlId:"title"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Title:"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{type:"text",defaultValue:a,name:"titleInput",onChange:function(e){f(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"details"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Details:"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{as:"textarea",rows:"5",defaultValue:t,name:"detailsInput",onChange:function(e){N(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"priority"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Priority:"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{as:"select",defaultValue:n,name:"priortyInput",onChange:function(e){M(e.target.value),"Important"===e.target.value?R(H.a):R(H.b)}},l.a.createElement("option",null,"Info"),l.a.createElement("option",null,"Important")))),l.a.createElement(y.a.Group,{as:O.a,controlId:"img"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Image URL"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{type:"file",accept:"image/*",name:"imgInput",onChange:function(e){e.target.files[0]?T(e.target.files[0]):T(null)}}))),l.a.createElement(B.a,{src:r,className:"preview"}))),l.a.createElement(A.a.Footer,null,l.a.createElement(j.a,{variant:"secondary",onClick:o},"Cancel"),l.a.createElement(j.a,{variant:"primary",onClick:function(){var e={};e.title=g,e.details=x,e.priority=k,e.icon=F,e.img=G,d(!0),i(e),setTimeout((function(){o()}),1e3)}},"Update Message"))))},R=t(905),P=t(406),V=t(906),K=t(415),J=t(913),q=function e(a){Object(o.a)(this,e),this.id=a.id,this.createdAt=a.createdAt,this.title=a.get("title"),this.details=a.get("details"),this.priority=a.get("priority"),this.icon=a.get("icon"),this.img=a.get("img")._url};var Q=function(e){var a=e.activeUser,t=l.a.useState(""),r=Object(h.a)(t,2),c=r[0],o=r[1],i=l.a.useState(!1),s=Object(h.a)(i,2),m=s[0],u=s[1],d=l.a.useState([]),b=Object(h.a)(d,2),y=b[0],C=b[1],w=l.a.useState("date"),j=Object(h.a)(w,2),x=j[0],N=j[1],S=l.a.useState("all"),k=Object(h.a)(S,2),M=k[0],L=k[1],U=l.a.useState(!1),G=Object(h.a)(U,2),A=G[0],B=G[1],Q=l.a.useState(""),W=Object(h.a)(Q,2),Y=W[0],Z=W[1],$=l.a.useState(""),_=Object(h.a)($,2),X=_[0],ee=_[1],ae=l.a.useState(""),te=Object(h.a)(ae,2),ne=te[0],le=te[1],re=l.a.useState(""),ce=Object(h.a)(re,2),oe=ce[0],ie=ce[1],se=l.a.useState(""),me=Object(h.a)(se,2),ue=me[0],de=me[1];function Ee(){u(!1),B(!1)}if(Object(n.useEffect)((function(){if(a){var e=I.a.Object.extend("Message");new I.a.Query(e).find().then((function(e){var a=e.map((function(e){return new q(e)}));C(a)}),(function(e){console.error("Error while fetching Message",e)}))}}),[a]),console.log(y),!a)return l.a.createElement(E.a,{to:"/"});function pe(e){N(e)}function ge(e){L(e)}var fe=[];"date"===x?fe=y.sort((function(e,a){return e.createdAt>a.createdAt?1:-1})):"priority"===x&&(fe=y.sort((function(e,a){return e.priority>a.priority?1:-1})));var ve=("info"===M?fe.filter((function(e){return"info"===e.priority&&(e.title.includes(c)||e.details.includes(c))})):"important"===M?fe.filter((function(e){return"Important"===e.priority&&(e.title.includes(c)||e.details.includes(c))})):fe.filter((function(e){return e.title.includes(c)||e.details.includes(c)}))).map((function(e,t){return l.a.createElement(D,{key:t,id:e.id,img:e.img,title:e.title,details:e.details,priority:e.priority,icon:e.icon,message:e,className:a.isCommitteeMember?"show-button":"hide-button",deleteMessage:function(){return function(e,a){var t=I.a.Object.extend("Message");new I.a.Query(t).get(e).then((function(e){e.destroy().then((function(e){var t=y.indexOf(a);C(y.splice(y.splice(t,1)))}),(function(e){"undefined"!==typeof document&&document.write("Error while deleting Message: ".concat(JSON.stringify(e))),console.error("Error while deleting Message",e)}))}))}(e.id,e)},updateMessage:function(){return function(e,a){de(a.id),Z(a.title),ee(a.details),le(a.priority),ie(a.img),B(!0)}(e.id,e)}})}));return l.a.createElement("div",{className:"p-messages"},l.a.createElement(v,{activeUser:a}),l.a.createElement(f.a,{expand:"lg"},l.a.createElement(f.a.Brand,{href:"#/"}),l.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(g.a,{className:"mr-auto"},l.a.createElement(R.a,{className:"mb-12"},l.a.createElement(P.a,{className:"flter-bar mb-12",placeholder:"filter by text title and details","aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){o(e.target.value)}}),l.a.createElement(T.a,{className:"search-icon",icon:H.c})),l.a.createElement(R.a,{className:"mb-3"},l.a.createElement(V.a,{as:R.a.Prepend,variant:"outline-primary",title:"Filter by Priority",id:"input-group-dropdown-1"},l.a.createElement(K.a.Item,{eventKey:"1",value:"all",onClick:function(){return ge("all")}},"All"),l.a.createElement(K.a.Item,{eventKey:"2",value:"info",onClick:function(){return ge("info")}},"Info"),l.a.createElement(K.a.Item,{eventKey:"3",value:"important",onClick:function(){return ge("important")}},"Important"))),l.a.createElement(R.a,{className:"mb-3"},l.a.createElement(R.a.Prepend,null,l.a.createElement(R.a.Text,null,"Sort by:"),l.a.createElement(R.a.Radio,{name:"sort","aria-label":"Radio button for following text input",onChange:function(){return pe("date")},defaultChecked:!0}),l.a.createElement(R.a.Text,{className:"label"},"Date"),l.a.createElement(R.a.Radio,{name:"sort","aria-label":"Radio button for following text input",onChange:function(){return pe("priority")}}),l.a.createElement(R.a.Text,{className:"label"},"Priority")))),l.a.createElement(g.a,{className:"ml-auto"}))),l.a.createElement(p.a,null,l.a.createElement(O.a,{className:"flex-container"},l.a.createElement(J.a.Item,{className:a.isCommitteeMember?"new-message-btn show-button":"new-message-btn hide-button",onClick:function(){u(!0)}},"New Message")),ve),l.a.createElement(z,{handleNewMessage:function(e){e.save().then((function(e){var a=new q(e);C(y.concat(a))}),(function(e){console.error("Error while creating Message: ",e)}))},handleModalOpen:m,handleModalClose:Ee}),l.a.createElement(F,{title:Y,details:X,priority:ne,img:oe,handleUpdateMessage:function(e){var a=I.a.Object.extend("Message");new I.a.Query(a).get(ue).then((function(a){a.set("title",e.title),a.set("details",e.details),a.set("img",new I.a.File("resume.txt",{base64:btoa(e.img)})),a.set("userId",I.a.User.current()),a.set("priority",e.priority),a.save().then((function(e){C(y)}),(function(e){"undefined"!==typeof document&&document.write("Error while updating Message: ".concat(JSON.stringify(e))),console.error("Error while updating Message",e)}))}))},handleOldModalOpen:A,handleModalClose:Ee}))};var W=function(e){var a=e.activeUser;return a?l.a.createElement("div",null,l.a.createElement(v,{activeUser:a}),"IssuesPage under construction!"):l.a.createElement(E.a,{to:"/"})},Y=(t(799),t(800),t(411));var Z=function(e){var a=e.id,t=e.title,n=e.details,r=e.opt1,c=e.opt2,o=e.opt3,i=e.dueDate,s=(e.votes,{labels:[r,c,o],datasets:[{data:[Math.floor(100*Math.random()),Math.floor(100*Math.random()),Math.floor(100*Math.random())],backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}]});return l.a.createElement("div",{className:"c-vote"},l.a.createElement(U.a,null,l.a.createElement(G.a,null,l.a.createElement(G.a.Header,{className:"title"},l.a.createElement(U.a.Toggle,{as:j.a,variant:"link",eventKey:"0"},l.a.createElement("span",{className:"title-text"},t))),l.a.createElement(U.a.Collapse,{eventKey:"0"},l.a.createElement(O.a,null,l.a.createElement(w.a,{xs:9},l.a.createElement(G.a.Body,{className:"card-body"},l.a.createElement("div",{className:"details"},l.a.createElement(O.a,null,l.a.createElement(w.a,{xs:4},"Details:"),l.a.createElement(w.a,{xs:6},n))),l.a.createElement("div",null,l.a.createElement(O.a,{className:"date"},l.a.createElement(w.a,{xs:4},"End Date:"),l.a.createElement(w.a,{xs:4},i),l.a.createElement(w.a,{xs:4},l.a.createElement(j.a,{value:a,variant:"primary",size:"sm"},"Update End Date")))))),l.a.createElement(w.a,{xs:3},l.a.createElement(Y.Doughnut,{data:s,width:100})))),l.a.createElement(G.a.Footer,null,l.a.createElement(j.a,null,r),l.a.createElement(j.a,null,c),l.a.createElement(j.a,null,o)))))},$=(t(895),t(261)),_=t(262);var X=function(e){var a=e.optionsValues,t={name:""},r=Object(n.useState)([Object(_.a)({},t)]),c=Object(h.a)(r,2),o=c[0],i=c[1];function s(e){var t=Object($.a)(o);t[e.target.dataset.idx][e.target.className]=e.target.value,i(t),a(o)}return l.a.createElement("div",null,o.map((function(e,a){var t="name-".concat(a);return l.a.createElement(O.a,null,l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Group,{key:"option-".concat(a)},l.a.createElement(y.a.Label,{htmlFor:t},"Option #".concat(a+1,":")),l.a.createElement(y.a.Control,{type:"text",name:t,"data-idx":a,id:t,className:"name",onChange:s}))))})),l.a.createElement("input",{id:"add-input",type:"button",value:"+ Add option",onClick:function(){i([].concat(Object($.a)(o),[Object(_.a)({},t)]))}}))};var ee=function(e){var a=e.handleModalOpen,t=e.handleModalClose,n=e.handleNewVoting,r=l.a.useState(""),c=Object(h.a)(r,2),o=c[0],i=c[1],s=l.a.useState(""),m=Object(h.a)(s,2),u=m[0],d=m[1],E=l.a.useState([]),p=Object(h.a)(E,2),g=p[0],f=p[1],v=l.a.useState(""),b=Object(h.a)(v,2),C=b[0],x=b[1];return l.a.createElement("div",{className:"c-my-voting-modal"},l.a.createElement(A.a,{show:a,onHide:t,size:"lg"},l.a.createElement(A.a.Header,{closeButton:!0},l.a.createElement(A.a.Title,null,"New Voting")),l.a.createElement(A.a.Body,null,l.a.createElement(y.a,null,l.a.createElement(y.a.Group,{as:O.a,controlId:"title"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Title:"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{type:"text",value:o,name:"titleInput",onChange:function(e){i(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"details"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Details:"),l.a.createElement(w.a,{sm:10},l.a.createElement(y.a.Control,{as:"textarea",rows:"5",value:u,name:"detailsInput",onChange:function(e){d(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"options"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Options:"),l.a.createElement(w.a,{sm:10},l.a.createElement(X,{className:"options",optionsValues:function(e){var a=e.map((function(e){return e["name form-control"]}));f(a),console.log(a)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"date"},l.a.createElement(y.a.Label,{column:!0,sm:2},"End Date:"),l.a.createElement(w.a,{sm:3},l.a.createElement(y.a.Control,{type:"date",value:C,name:"endDateInput",onChange:function(e){x(Date.parse(e.target.value))}}))))),l.a.createElement(A.a.Footer,null,l.a.createElement(j.a,{variant:"primary",onClick:function(){var e=new(I.a.Object.extend("Vote"));e.set("title",o),e.set("details",u),e.set("options",g),e.set("endDate",C),e.set("votes",0),e.set("ownerId",I.a.User.current()),n(e),i(""),d(""),f(!1),x("")}},"Create"))))},ae=function e(a){Object(o.a)(this,e),this.id=a.id,this.createdAt=a.createdAt,this.title=a.get("title"),this.details=a.get("details"),this.options=a.get("options"),this.dueDate=a.get("dueDate"),this.votes=a.get("votes")};var te=function(e){var a=e.activeUser,t=l.a.useState(!1),r=Object(h.a)(t,2),c=r[0],o=r[1],i=l.a.useState([]),s=Object(h.a)(i,2),m=s[0],u=s[1];if(Object(n.useEffect)((function(){if(a){var e=I.a.Object.extend("Vote");new I.a.Query(e).find().then((function(e){var a=e.map((function(e){return new ae(e)}));u(a)}),(function(e){console.error("Error while fetching Voting",e)}))}}),[a]),!a)return l.a.createElement(E.a,{to:"/"});var d=m.map((function(e,a){return l.a.createElement(Z,{key:a,id:e.id,title:e.title,details:e.details,opt1:e.options[0],opt2:e.options[1],opt3:e.options[2],vote:e,votes:m,endDate:e.endDate})}));return l.a.createElement("div",{className:"p-votings"},l.a.createElement(v,{activeUser:a}),l.a.createElement("div",{className:"p-votes"},l.a.createElement(O.a,null,l.a.createElement(w.a,{lg:6,sm:12},l.a.createElement("h1",null,"Active Votings"),l.a.createElement("div",{className:"left-pane"},l.a.createElement(J.a.Item,{onClick:function(){o(!0)}},"New Voting"),d,l.a.createElement(Z,null))),l.a.createElement(w.a,{lg:6,sm:12},l.a.createElement("h1",null,"Votings Results"),l.a.createElement("div",{className:"right-pane"},l.a.createElement(R.a,{className:"mb-12"},l.a.createElement(P.a,{className:"flter-bar mb-12",placeholder:"filter by text title and details","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),l.a.createElement(Z,{title:"Build new pool",details:"yada yada yada",opt1:"yes",opt2:"no",opt3:"abstained",dueDate:"15/1/2019"}),l.a.createElement(Z,{title:"Install new roof",details:"yada yada yada",opt1:"1",opt2:"2",opt3:"3",dueDate:"15/8/2019"}))))),l.a.createElement(ee,{handleNewVoting:function(e){e.save().then((function(e){var a=new ae(e);u(m.concat(a)),console.log(m)}),(function(e){console.error("Error while creating Vote: ",e)})),o(!1)},handleModalOpen:c,handleModalClose:function(){o(!1)}}))},ne=t(412);I.a.serverURL="https://parseapi.back4app.com",I.a.initialize("DeD9qobJ5ifKQgxZ7Bg3jafsGWbJvtwh6cziAfHy","L4Y3LKY3qQrMxqnEBuxk6NOfM9wGkLRsyFf6eJT3");var le=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={activeUser:null,accounts:ne},n.handleLogin=n.handleLogin.bind(Object(s.a)(n)),n}return Object(i.a)(t,[{key:"handleLogin",value:function(e){this.setState({activeUser:e})}},{key:"render",value:function(){var e=this.state,a=e.activeUser,t=e.accounts;return l.a.createElement(d.a,null,l.a.createElement(E.d,null,l.a.createElement(E.b,{exact:!0,path:"/"},l.a.createElement(b,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/login"},l.a.createElement(S,{activeUser:a,handleLogin:this.handleLogin})),l.a.createElement(E.b,{exact:!0,path:"/signup"},l.a.createElement(k,{activeUser:a,accounts:t,handleNewAccount:this.handleNewAccount})),l.a.createElement(E.b,{exact:!0,path:"/dashboard"},l.a.createElement(M,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/tenants"},l.a.createElement(L,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/messages"},l.a.createElement(Q,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/issues"},l.a.createElement(W,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/votings"},l.a.createElement(te,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/logout"},l.a.createElement(te,{activeUser:a}))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[419,1,2]]]);
//# sourceMappingURL=main.52146f8a.chunk.js.map