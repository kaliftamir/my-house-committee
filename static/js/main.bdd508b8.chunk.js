(this["webpackJsonpcar-app"]=this["webpackJsonpcar-app"]||[]).push([[0],{369:function(e,a,t){},370:function(e,a,t){},378:function(e){e.exports=JSON.parse('[{"id":1,"building":"44","address":"Rashi","city":"Tel-Aviv"},{"id":2,"building":"50","address":"Rashi","city":"Tel-Aviv"},{"id":3,"building":"60","address":"Niron","city":"Ramat-Gan"}]')},385:function(e,a,t){e.exports=t(766)},390:function(e,a,t){},392:function(e,a,t){},396:function(e,a,t){},621:function(e,a){},623:function(e,a){},634:function(e,a){},636:function(e,a){},662:function(e,a){},664:function(e,a){},665:function(e,a){},671:function(e,a){},673:function(e,a){},691:function(e,a){},694:function(e,a){},710:function(e,a){},713:function(e,a){},761:function(e,a,t){},762:function(e,a,t){},764:function(e,a,t){},765:function(e,a,t){},766:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(68),c=t.n(r),i=(t(390),t(88)),o=t(371),s=t(179),m=t(383),u=t(380),d=(t(391),t(392),t(76)),E=t(23),g=t(771),p=t(779),f=t(780);var v=function(e){var a=e.activeUser,t=a?null:l.a.createElement(p.a.Link,{href:"#/login"},"Login"),n=a?null:l.a.createElement(p.a.Link,{href:"#/signup"},"Sign up"),r=a?l.a.createElement(p.a.Link,{href:"/"},"Logout"):null,c=a?l.a.createElement(p.a.Link,{href:"#/dashboard"},"Dashboard"):null,i=a?l.a.createElement(p.a.Link,{href:"#/tenants"},"Tenants"):null,o=a?l.a.createElement(p.a.Link,{href:"#/messages"},"Messages"):null,s=a?l.a.createElement(p.a.Link,{href:"#/issues"},"Issues"):null,m=a?l.a.createElement(p.a.Link,{href:"#/votings"},"Voting"):null;return l.a.createElement(f.a,{bg:"light",expand:"lg"},l.a.createElement(f.a.Brand,{href:"#/"},"HCA Systems"),l.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(p.a,{className:"mr-auto"},c,i,o,s,m),l.a.createElement(p.a,{className:"ml-auto"},t,n,r)))};var b=function(e){var a=e.activeUser;return l.a.createElement("div",null,l.a.createElement(v,{activeUser:a}),l.a.createElement(g.a,null,l.a.createElement("h1",null,"Home Page"),l.a.createElement("h4",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")))},h=t(7),y=t(778),C=t(772),O=t(773),j=t(374),w=t(375),x=(t(396),function e(a){Object(i.a)(this,e),this.id=a.id,this.email=a.get("email"),this.username=a.get("username"),this.password=a.get("password"),this.apartment=a.get("apartment"),this.isTenant=a.get("isTenant"),this.isCommitteeMember=a.get("isCommitteeMember")}),I=t(15),N=t.n(I);var S=function(e){var a=e.handleLogin,t=l.a.useState("john@john.com"),n=Object(h.a)(t,2),r=n[0],c=n[1],i=l.a.useState("123"),o=Object(h.a)(i,2),s=o[0],m=o[1],u=l.a.useState(!1),d=Object(h.a)(u,2),g=d[0],p=d[1],f=l.a.useState(!1),v=Object(h.a)(f,2),b=v[0],I=v[1];return console.log(g),g?l.a.createElement(E.a,{to:"/dashboard"}):l.a.createElement("div",{className:"p-login"},l.a.createElement("h1",null,"Login to Committee App"),"or ",l.a.createElement("a",{href:"#/signup"},"create a new account"),l.a.createElement(y.a,null,b?l.a.createElement(C.a,{variant:"danger"},"Invalid Credientails! Incorrect email or password"):l.a.createElement(C.a,null),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Email"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{type:"email",placeholder:"Email",value:r,onChange:function(e){return c(e.target.value),I(!1)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalPassword"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Password"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{type:"password",placeholder:"Password",value:s,onChange:function(e){return m(e.target.value),I(!1)}}))),l.a.createElement(y.a.Group,null,l.a.createElement(w.a,{type:"button",onClick:function(){N.a.User.logIn(r,s).then((function(e){a(new x(e)),p(!0)})).catch((function(e){I(!0)}))},block:!0,variant:"primary"},"Login"))))};t(761);var k=function(e){e.users,e.accounts,e.handleSignup,e.handleNewAccount;var a=l.a.useState(!1),t=Object(h.a)(a,2),r=t[0],c=t[1],i=l.a.useState("tamir"),o=Object(h.a)(i,2),s=o[0],m=o[1],u=l.a.useState("tamir@kalif.com"),d=Object(h.a)(u,2),g=d[0],p=d[1],f=l.a.useState("TamirKalif1"),v=Object(h.a)(f,2),b=v[0],x=v[1],I=l.a.useState(!0),S=Object(h.a)(I,2),k=S[0],L=S[1],M=l.a.useState(!1),U=Object(h.a)(M,2),G=U[0],T=U[1],D=l.a.useState("4"),A=Object(h.a)(D,2),B=A[0],H=A[1],z=l.a.useState("44"),R=Object(h.a)(z,2),P=R[0],V=R[1],K=l.a.useState("rashi"),F=Object(h.a)(K,2),J=F[0],q=F[1],Q=l.a.useState("tel-aviv"),W=Object(h.a)(Q,2),Y=W[0],Z=W[1],$=l.a.useState(!1),_=Object(h.a)($,2),X=_[0],ee=_[1],ae=l.a.useState(!1),te=Object(h.a)(ae,2),ne=te[0],le=te[1],re=l.a.useState(!1),ce=Object(h.a)(re,2),ie=ce[0],oe=ce[1],se=l.a.useState(!1),me=Object(h.a)(se,2),ue=me[0],de=me[1];return Object(n.useEffect)((function(){if(r){var e=new N.a.User;e.set("username",s),e.set("email",g),e.set("apartment",B),e.set("isTenant",!0),e.set("isCommitteeMember",!0),e.set("password",b),e.signUp().then((function(e){var a=new(N.a.Object.extend("account"));a.set("building",P),a.set("address",J),a.set("city",Y),a.save().then((function(e){de(!0),setTimeout((function(){ee(!0)}),2e3)}),(function(e){oe(!0)}))})).catch((function(e){le(!0)}))}}),[r]),X?l.a.createElement(E.a,{to:"/"}):l.a.createElement("div",{className:"p-signup"},l.a.createElement("h1",null,"Create a Committe Member Account"),l.a.createElement(y.a,null,l.a.createElement(O.a,null,l.a.createElement(j.a,{lg:12},ue?l.a.createElement(C.a,{className:"signup-alert",variant:"success"},"New user was signed up"):l.a.createElement(C.a,null))),l.a.createElement(O.a,null,l.a.createElement(j.a,{lg:6,sm:12},ne?l.a.createElement(C.a,{className:"signup-alert",variant:"danger"},"The user already exists!"):l.a.createElement(C.a,null),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Label,{id:"name"},"User Name:"),l.a.createElement(y.a.Control,{type:"text",value:s,onChange:function(e){return m(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Label,{id:"email"},"Email:"),l.a.createElement(y.a.Control,{type:"email",value:g,onChange:function(e){return p(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formBasicPassword"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Label,{id:"passward"},"Password:"),l.a.createElement(y.a.Control,{type:"passward",value:b,onChange:function(e){return x(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Label,{id:"apartment"},"Apartment:"),l.a.createElement(y.a.Control,{type:"text",value:B,onChange:function(e){return H(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formBasicCheckbox"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Check,{type:"checkbox",label:"Tenant?",checked:k,onChange:function(e){return L(e.target.checked)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formBasicCheckbox"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Check,{type:"checkbox",label:"Committee Member?",checked:G,onChange:function(e){return T(e.target.checked)}})))),l.a.createElement(j.a,{lg:6,sm:12},ie?l.a.createElement(C.a,{className:"signup-alert",variant:"danger"},"The account already exists!"):l.a.createElement(C.a,null),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Label,{id:"building"},"Building:"),l.a.createElement(y.a.Control,{type:"text",value:P,onChange:function(e){return V(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Label,{id:"address"},"Address:"),l.a.createElement(y.a.Control,{type:"text",value:J,onChange:function(e){return q(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"formHorizontalEmail"},l.a.createElement(j.a,{sm:12},l.a.createElement(y.a.Label,{id:"city"},"City:"),l.a.createElement(y.a.Control,{type:"text",value:Y,onChange:function(e){return Z(e.target.value)}}))))),l.a.createElement(w.a,{variant:"primary",onClick:function(){c(!0)},block:!0,type:"button"},"Submit")))};var L=function(e){var a=e.activeUser,t=l.a.useState([]),n=Object(h.a)(t,2),r=(n[0],n[1],l.a.useState([])),c=Object(h.a)(r,2),i=(c[0],c[1],l.a.useState([])),o=Object(h.a)(i,2);return o[0],o[1],a?l.a.createElement("div",null,l.a.createElement(v,{activeUser:a}),l.a.createElement(g.a,null,l.a.createElement(O.a,null,l.a.createElement(j.a,{md:6},l.a.createElement("h2",null,"New Report Issues")),l.a.createElement(j.a,{md:6},l.a.createElement("h2",null,"Overdue Issues"))),"DashboardPages-start")):l.a.createElement(E.a,{to:"/"})};var M=function(e){var a=e.activeUser;return a?l.a.createElement("div",null,l.a.createElement(v,{activeUser:a}),"TenantsPage"):l.a.createElement(E.a,{to:"/"})},U=(t(762),t(781)),G=t(782),T=(t(369),t(153));var D=function(e){var a=e.id,t=e.img,n=e.title,r=e.details,c=e.priority,i=e.icon,o=e.className,s=e.deleteMessage,m=e.updateMessage;return l.a.createElement("div",{className:"c-message"},l.a.createElement(U.a,null,l.a.createElement(G.a,null,l.a.createElement(G.a.Header,{className:"title"},l.a.createElement(U.a.Toggle,{as:w.a,variant:"link",eventKey:"0"},l.a.createElement("span",{className:"title-text"},n),l.a.createElement(T.a,{className:"icon",icon:i}))),l.a.createElement(U.a.Collapse,{eventKey:"0"},l.a.createElement(G.a.Body,null,l.a.createElement(O.a,null,l.a.createElement(j.a,{xs:3},l.a.createElement(G.a.Img,{variant:"top",src:t})),l.a.createElement(j.a,{xs:9},l.a.createElement(G.a.Body,{className:"card-body"},l.a.createElement(G.a.Title,null),l.a.createElement("div",{className:"details"},l.a.createElement(O.a,null,l.a.createElement(j.a,{xs:2},"Details:"),l.a.createElement(j.a,{xs:7},r))),l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(j.a,{xs:2},"Priority:"),l.a.createElement(j.a,{xs:7},c),l.a.createElement(j.a,{xs:3},l.a.createElement(w.a,{value:a,className:o,variant:"primary",size:"sm",onClick:m},"Update"),l.a.createElement(w.a,{value:a,className:o,variant:"danger",size:"sm",onClick:s},"Delete"))))))))))))},A=t(777),B=t(774),H=t(61);t(370);var z=function(e){var a=e.handleModalOpen,t=e.handleModalClose,n=e.handleNewMessage,r=l.a.useState(""),c=Object(h.a)(r,2),i=c[0],o=c[1],s=l.a.useState(""),m=Object(h.a)(s,2),u=m[0],d=m[1],E=l.a.useState("info"),g=Object(h.a)(E,2),p=g[0],f=g[1],v=l.a.useState(null),b=Object(h.a)(v,2),C=b[0],x=b[1],I=l.a.useState(H.b),S=Object(h.a)(I,2),k=S[0],L=S[1],M=C?URL.createObjectURL(C):"";return l.a.createElement("div",{className:"c-my-message-modal"},l.a.createElement(A.a,{show:a,onHide:t,size:"lg"},l.a.createElement(A.a.Header,{closeButton:!0},l.a.createElement(A.a.Title,null,"New Message")),l.a.createElement(A.a.Body,null,l.a.createElement(y.a,null,l.a.createElement(y.a.Group,{as:O.a,controlId:"title"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Title:"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{type:"text",value:i,name:"titleInput",onChange:function(e){o(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"details"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Details:"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{as:"textarea",rows:"5",value:u,name:"detailsInput",onChange:function(e){d(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"priority"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Priority:"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{as:"select",value:p,name:"priortyInput",onChange:function(e){f(e.target.value),"Important"===e.target.value?L(H.a):L(H.b)}},l.a.createElement("option",null,"Info"),l.a.createElement("option",null,"Important")))),l.a.createElement(y.a.Group,{as:O.a,controlId:"img"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Image URL"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{type:"file",accept:"image/*",name:"imgInput",onChange:function(e){e.target.files[0]?x(e.target.files[0]):x(null)}}))),l.a.createElement(B.a,{src:M,className:"preview"}))),l.a.createElement(A.a.Footer,null,l.a.createElement(w.a,{variant:"secondary",onClick:t},"Cancel"),l.a.createElement(w.a,{variant:"primary",onClick:function(){var e=new(N.a.Object.extend("Message"));e.get("updatedAt",N.a.User.current()),e.set("title",i),e.set("details",u),e.set("priority",p),e.set("icon",k),e.set("img",new N.a.File(C.name,C)),e.set("userId",N.a.User.current()),console.log(e),n(e),t(),o(""),d(""),f("info"),x(null),L(H.b)}},"Create Message"))))};var R=function(e){var a=e.title,t=e.details,n=e.priority,r=e.img,c=e.handleOldModalOpen,i=e.handleModalClose,o=e.handleUpdateMessage,s=l.a.useState(!1),m=Object(h.a)(s,2),u=m[0],d=m[1],E=l.a.useState(""),g=Object(h.a)(E,2),p=g[0],f=g[1],v=l.a.useState(""),b=Object(h.a)(v,2),x=b[0],I=b[1],N=l.a.useState(""),S=Object(h.a)(N,2),k=S[0],L=S[1],M=l.a.useState(null),U=Object(h.a)(M,2),G=U[0],T=U[1],D=l.a.useState(H.b),z=Object(h.a)(D,2),R=z[0],P=z[1];return G&&URL.createObjectURL(G),l.a.createElement("div",{className:"c-my-message-modal"},l.a.createElement(A.a,{show:c,onHide:i,size:"lg"},l.a.createElement(A.a.Header,{closeButton:!0},l.a.createElement(A.a.Title,null,"Updated Message")),l.a.createElement(A.a.Body,null,l.a.createElement(y.a,null,u?l.a.createElement(C.a,{variant:"success"},"Message was updated!"):l.a.createElement(C.a,null),l.a.createElement(y.a.Group,{as:O.a,controlId:"title"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Title:"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{type:"text",defaultValue:a,name:"titleInput",onChange:function(e){f(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"details"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Details:"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{as:"textarea",rows:"5",defaultValue:t,name:"detailsInput",onChange:function(e){I(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"priority"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Priority:"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{as:"select",defaultValue:n,name:"priortyInput",onChange:function(e){L(e.target.value),"Important"===e.target.value?P(H.a):P(H.b)}},l.a.createElement("option",null,"Info"),l.a.createElement("option",null,"Important")))),l.a.createElement(y.a.Group,{as:O.a,controlId:"img"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Image URL"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{type:"file",accept:"image/*",name:"imgInput",onChange:function(e){e.target.files[0]?T(e.target.files[0]):T(null)}}))),l.a.createElement(B.a,{src:r,className:"preview"}))),l.a.createElement(A.a.Footer,null,l.a.createElement(w.a,{variant:"secondary",onClick:i},"Cancel"),l.a.createElement(w.a,{variant:"primary",onClick:function(){var e={};e.title=p,e.details=x,e.priority=k,e.icon=R,e.img=G,d(!0),o(e),setTimeout((function(){i()}),1e3)}},"Update Message"))))},P=t(775),V=t(373),K=t(776),F=t(381),J=t(783),q=function e(a){Object(i.a)(this,e),this.id=a.id,this.createdAt=a.createdAt,this.title=a.get("title"),this.details=a.get("details"),this.priority=a.get("priority"),this.icon=a.get("icon"),this.img=a.get("img")._url};var Q=function(e){var a=e.activeUser,t=l.a.useState(""),r=Object(h.a)(t,2),c=r[0],i=r[1],o=l.a.useState(!1),s=Object(h.a)(o,2),m=s[0],u=s[1],d=l.a.useState([]),b=Object(h.a)(d,2),y=b[0],C=b[1],j=l.a.useState("date"),w=Object(h.a)(j,2),x=w[0],I=w[1],S=l.a.useState("all"),k=Object(h.a)(S,2),L=k[0],M=k[1],U=l.a.useState(!1),G=Object(h.a)(U,2),A=G[0],B=G[1],Q=l.a.useState(""),W=Object(h.a)(Q,2),Y=W[0],Z=W[1],$=l.a.useState(""),_=Object(h.a)($,2),X=_[0],ee=_[1],ae=l.a.useState(""),te=Object(h.a)(ae,2),ne=te[0],le=te[1],re=l.a.useState(""),ce=Object(h.a)(re,2),ie=ce[0],oe=ce[1],se=l.a.useState(""),me=Object(h.a)(se,2),ue=me[0],de=me[1];function Ee(){u(!1),B(!1)}if(Object(n.useEffect)((function(){if(a){var e=N.a.Object.extend("Message");new N.a.Query(e).find().then((function(e){var a=e.map((function(e){return new q(e)}));C(a)}),(function(e){console.error("Error while fetching Message",e)}))}}),[a]),console.log(y),!a)return l.a.createElement(E.a,{to:"/"});function ge(e){I(e)}function pe(e){M(e)}var fe=[];"date"===x?fe=y.sort((function(e,a){return e.createdAt>a.createdAt?1:-1})):"priority"===x&&(fe=y.sort((function(e,a){return e.priority>a.priority?1:-1})));var ve=("info"===L?fe.filter((function(e){return"info"===e.priority&&(e.title.includes(c)||e.details.includes(c))})):"important"===L?fe.filter((function(e){return"Important"===e.priority&&(e.title.includes(c)||e.details.includes(c))})):fe.filter((function(e){return e.title.includes(c)||e.details.includes(c)}))).map((function(e,t){return l.a.createElement(D,{key:t,id:e.id,img:e.img,title:e.title,details:e.details,priority:e.priority,icon:e.icon,message:e,className:a.isCommitteeMember?"show-button":"hide-button",deleteMessage:function(){return function(e,a){var t=N.a.Object.extend("Message");new N.a.Query(t).get(e).then((function(e){e.destroy().then((function(e){var t=y.indexOf(a);C(y.splice(y.splice(t,1)))}),(function(e){"undefined"!==typeof document&&document.write("Error while deleting Message: ".concat(JSON.stringify(e))),console.error("Error while deleting Message",e)}))}))}(e.id,e)},updateMessage:function(){return function(e,a){de(a.id),Z(a.title),ee(a.details),le(a.priority),oe(a.img),B(!0)}(e.id,e)}})}));return l.a.createElement("div",{className:"p-messages"},l.a.createElement(v,{activeUser:a}),l.a.createElement(f.a,{expand:"lg"},l.a.createElement(f.a.Brand,{href:"#/"}),l.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(p.a,{className:"mr-auto"},l.a.createElement(P.a,{className:"mb-12"},l.a.createElement(V.a,{className:"flter-bar mb-12",placeholder:"filter by text title and details","aria-label":"Default","aria-describedby":"inputGroup-sizing-default",onChange:function(e){i(e.target.value)}}),l.a.createElement(T.a,{className:"search-icon",icon:H.c})),l.a.createElement(P.a,{className:"mb-3"},l.a.createElement(K.a,{as:P.a.Prepend,variant:"outline-primary",title:"Filter by Priority",id:"input-group-dropdown-1"},l.a.createElement(F.a.Item,{eventKey:"1",value:"all",onClick:function(){return pe("all")}},"All"),l.a.createElement(F.a.Item,{eventKey:"2",value:"info",onClick:function(){return pe("info")}},"Info"),l.a.createElement(F.a.Item,{eventKey:"3",value:"important",onClick:function(){return pe("important")}},"Important"))),l.a.createElement(P.a,{className:"mb-3"},l.a.createElement(P.a.Prepend,null,l.a.createElement(P.a.Text,null,"Sort by:"),l.a.createElement(P.a.Radio,{name:"sort","aria-label":"Radio button for following text input",onChange:function(){return ge("date")},defaultChecked:!0}),l.a.createElement(P.a.Text,{className:"label"},"Date"),l.a.createElement(P.a.Radio,{name:"sort","aria-label":"Radio button for following text input",onChange:function(){return ge("priority")}}),l.a.createElement(P.a.Text,{className:"label"},"Priority")))),l.a.createElement(p.a,{className:"ml-auto"}))),l.a.createElement(g.a,null,l.a.createElement(O.a,{className:"flex-container"},l.a.createElement(J.a.Item,{className:a.isCommitteeMember?"new-message-btn show-button":"new-message-btn hide-button",onClick:function(){u(!0)}},"New Message")),ve),l.a.createElement(z,{handleNewMessage:function(e){e.save().then((function(e){var a=new q(e);C(y.concat(a))}),(function(e){console.error("Error while creating Message: ",e)}))},handleModalOpen:m,handleModalClose:Ee}),l.a.createElement(R,{title:Y,details:X,priority:ne,img:ie,handleUpdateMessage:function(e){var a=N.a.Object.extend("Message");new N.a.Query(a).get(ue).then((function(a){a.set("title",e.title),a.set("details",e.details),a.set("img",new N.a.File("resume.txt",{base64:btoa(e.img)})),a.set("userId",N.a.User.current()),a.set("priority",e.priority),a.save().then((function(e){C(y)}),(function(e){"undefined"!==typeof document&&document.write("Error while updating Message: ".concat(JSON.stringify(e))),console.error("Error while updating Message",e)}))}))},handleOldModalOpen:A,handleModalClose:Ee}))};var W=function(e){var a=e.activeUser;return a?l.a.createElement("div",null,l.a.createElement(v,{activeUser:a}),"IssuesPage"):l.a.createElement(E.a,{to:"/"})};t(764);var Y=function(e){var a=e.id,t=e.title,n=e.details,r=e.options,c=e.dueDate;return e.votes,l.a.createElement("div",{className:"c-message"},l.a.createElement(U.a,null,l.a.createElement(G.a,null,l.a.createElement(G.a.Header,{className:"title"},l.a.createElement(U.a.Toggle,{as:w.a,variant:"link",eventKey:"0"},l.a.createElement("span",{className:"title-text"},t))),l.a.createElement(U.a.Collapse,{eventKey:"0"},l.a.createElement(G.a.Body,null,l.a.createElement(O.a,null,l.a.createElement(j.a,{xs:9},l.a.createElement(G.a.Body,{className:"card-body"},l.a.createElement(G.a.Title,null),l.a.createElement("div",{className:"details"},l.a.createElement(O.a,null,l.a.createElement(j.a,{xs:3},"Details:"),l.a.createElement(j.a,{xs:6},n))),l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(j.a,{xs:4},"End Date:"),l.a.createElement(j.a,{xs:2},c),l.a.createElement(j.a,{xs:6},l.a.createElement(w.a,{value:a,variant:"primary",size:"sm"},"Update End Date"))),l.a.createElement(w.a,null,r)))),l.a.createElement(j.a,{xs:3},l.a.createElement(G.a.Img,{variant:"top",src:"kramer.jpg"}))))))))},Z=(t(765),t(242)),$=t(243);var _=function(e){var a=e.optionsValues,t={name:""},r=Object(n.useState)([Object($.a)({},t)]),c=Object(h.a)(r,2),i=c[0],o=c[1];function s(e){var t=Object(Z.a)(i);t[e.target.dataset.idx][e.target.className]=e.target.value,o(t),a(i)}return l.a.createElement("div",null,i.map((function(e,a){var t="name-".concat(a);return l.a.createElement(O.a,null,l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Group,{key:"option-".concat(a)},l.a.createElement(y.a.Label,{htmlFor:t},"Option #".concat(a+1,":")),l.a.createElement(y.a.Control,{type:"text",name:t,"data-idx":a,id:t,className:"name",onChange:s}))))})),l.a.createElement("input",{id:"add-input",type:"button",value:"+ Add option",onClick:function(){o([].concat(Object(Z.a)(i),[Object($.a)({},t)]))}}))};var X=function(e){var a=e.handleModalOpen,t=e.handleModalClose,n=e.handleNewVoting,r=l.a.useState(""),c=Object(h.a)(r,2),i=c[0],o=c[1],s=l.a.useState(""),m=Object(h.a)(s,2),u=m[0],d=m[1],E=l.a.useState([]),g=Object(h.a)(E,2),p=g[0],f=g[1],v=l.a.useState(""),b=Object(h.a)(v,2),C=b[0],x=b[1];return l.a.createElement("div",{className:"c-my-voting-modal"},l.a.createElement(A.a,{show:a,onHide:t,size:"lg"},l.a.createElement(A.a.Header,{closeButton:!0},l.a.createElement(A.a.Title,null,"New Voting")),l.a.createElement(A.a.Body,null,l.a.createElement(y.a,null,l.a.createElement(y.a.Group,{as:O.a,controlId:"title"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Title:"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{type:"text",value:i,name:"titleInput",onChange:function(e){o(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"details"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Details:"),l.a.createElement(j.a,{sm:10},l.a.createElement(y.a.Control,{as:"textarea",rows:"5",value:u,name:"detailsInput",onChange:function(e){d(e.target.value)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"options"},l.a.createElement(y.a.Label,{column:!0,sm:2},"Options:"),l.a.createElement(j.a,{sm:10},l.a.createElement(_,{optionsValues:function(e){var a=e.map((function(e){return e["name form-control"]}));f(a),console.log(a)}}))),l.a.createElement(y.a.Group,{as:O.a,controlId:"date"},l.a.createElement(y.a.Label,{column:!0,sm:2},"End Date:"),l.a.createElement(j.a,{sm:3},l.a.createElement(y.a.Control,{type:"date",value:C,name:"endDateInput",onChange:function(e){x(Date.parse(e.target.value))}}))))),l.a.createElement(A.a.Footer,null,l.a.createElement(w.a,{variant:"primary",onClick:function(){var e=new(N.a.Object.extend("Vote"));e.set("title",i),e.set("details",u),e.set("options",p),e.set("endDate",C),e.set("votes",0),e.set("ownerId",N.a.User.current()),n(e),o(""),d(""),f(!1),x("")}},"Create"))))},ee=function e(a){Object(i.a)(this,e),this.id=a.id,this.createdAt=a.createdAt,this.title=a.get("title"),this.details=a.get("details"),this.options=a.get("options"),this.dueDate=a.get("dueDate"),this.votes=a.get("votes")};var ae=function(e){var a=e.activeUser,t=l.a.useState(!1),n=Object(h.a)(t,2),r=n[0],c=n[1],i=l.a.useState([]),o=Object(h.a)(i,2),s=o[0],m=o[1];if(!a)return l.a.createElement(E.a,{to:"/"});if(!a)return l.a.createElement(E.a,{to:"/"});var u=s.map((function(e,a){return l.a.createElement(Y,{key:a,id:e.id,title:e.title,details:e.details,options:e.options,vote:e,votes:s})}));return l.a.createElement("div",{className:"p-votings"},l.a.createElement(v,{activeUser:a}),l.a.createElement(O.a,null,l.a.createElement(j.a,{lg:6,sm:12},l.a.createElement("h1",null,"Active Votings")),l.a.createElement(j.a,{lg:6,sm:12},l.a.createElement("h1",null,"Votings Results"))),l.a.createElement(O.a,null,l.a.createElement(j.a,{lg:6,sm:12},l.a.createElement(J.a.Item,{onClick:function(){c(!0)}},"New Voting"),u,l.a.createElement(Y,null)),l.a.createElement(j.a,{lg:6,sm:12},l.a.createElement(P.a,{className:"mb-12"},l.a.createElement(V.a,{className:"flter-bar mb-12",placeholder:"filter by text title and details","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"})),l.a.createElement(Y,null))),l.a.createElement(X,{handleNewVoting:function(e){e.save().then((function(e){var a=new ee(e);m(s.concat(a)),console.log(s)}),(function(e){console.error("Error while creating Vote: ",e)})),c(!1)},handleModalOpen:r,handleModalClose:function(){c(!1)}}))},te=t(378);N.a.serverURL="https://parseapi.back4app.com",N.a.initialize("DeD9qobJ5ifKQgxZ7Bg3jafsGWbJvtwh6cziAfHy","L4Y3LKY3qQrMxqnEBuxk6NOfM9wGkLRsyFf6eJT3");var ne=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).state={activeUser:null,accounts:te},n.handleLogin=n.handleLogin.bind(Object(s.a)(n)),n}return Object(o.a)(t,[{key:"handleLogin",value:function(e){this.setState({activeUser:e})}},{key:"render",value:function(){var e=this.state,a=e.activeUser,t=e.accounts;return l.a.createElement(d.a,null,l.a.createElement(E.d,null,l.a.createElement(E.b,{exact:!0,path:"/"},l.a.createElement(b,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/login"},l.a.createElement(S,{activeUser:a,handleLogin:this.handleLogin})),l.a.createElement(E.b,{exact:!0,path:"/signup"},l.a.createElement(k,{activeUser:a,accounts:t,handleNewAccount:this.handleNewAccount})),l.a.createElement(E.b,{exact:!0,path:"/dashboard"},l.a.createElement(L,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/tenants"},l.a.createElement(M,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/messages"},l.a.createElement(Q,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/issues"},l.a.createElement(W,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/votings"},l.a.createElement(ae,{activeUser:a})),l.a.createElement(E.b,{exact:!0,path:"/logout"},l.a.createElement(ae,{activeUser:a}))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[385,1,2]]]);
//# sourceMappingURL=main.bdd508b8.chunk.js.map